{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.29731878517285737,
    "R_W_to_B": [
      [
        0.999202778400671,
        0.03976709850467603,
        -0.003519305740974337
      ],
      [
        0.0326082424434573,
        -0.8638187317295521,
        -0.5027463587515049
      ],
      [
        -0.023032806193075215,
        0.50223080012049,
        -0.8644268119680256
      ]
    ],
    "t_W_to_B": [
      0.4684518010061175,
      0.45336885152300566,
      0.30415625802452706
    ],
    "camera_center_rmse_all_m": 0.007338296940880092,
    "camera_center_rmse_kept_m": 0.0017256082957114807,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      3,
      0,
      1,
      4,
      2
    ],
    "per_pair_error_m": [
      0.0009947080328716975,
      0.0011740213417948536,
      0.002777198776517424,
      0.0009328645780810287,
      0.0019843841372486236,
      0.01755605285945674
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.10646570382089708,
      0.5173082953807199,
      -0.849150859058751,
      0.8680205933870642
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.061694851064484225,
        -0.0594518776062966,
        0.8999768528978002
      ],
      "base_link": [
        0.44847876078878673,
        0.33351483238696283,
        0.0643978900744003
      ]
    },
    "prism": {
      "method_used": "A_top_band",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.11951557546854019,
        0.11917702853679657,
        0.1329622808270076
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.9943163751583013,
          0.1064657038208971
        ],
        [
          -0.8540047013928116,
          0.05539041007065618,
          0.51730829538072
        ],
        [
          -0.5202652880953749,
          -0.09092221160014125,
          -0.8491508590587511
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            0.01510059366918616,
            -0.09635779662930095,
            0.9654133802654526
          ],
          [
            -0.06649857714472134,
            -0.16601336080314708,
            0.9127479276649214
          ],
          [
            -0.15264621860803373,
            -0.09132844942784414,
            0.947445360516812
          ],
          [
            -0.07104704779412627,
            -0.021672885253998075,
            1.000110813117343
          ],
          [
            0.029256516479065294,
            -0.027575305784749066,
            0.8525083452787883
          ],
          [
            -0.0523426543348422,
            -0.09723086995859519,
            0.799842892678257
          ],
          [
            -0.1384902957981546,
            -0.022545958583292253,
            0.8345403255301477
          ],
          [
            -0.05689112498424713,
            0.04710960559055381,
            0.8872057781306787
          ]
        ],
        "base_link": [
          [
            0.47078845916221923,
            0.3339567113654478,
            0.041543235121126176
          ],
          [
            0.4457783680476686,
            0.35892742797045313,
            0.04523644506351543
          ],
          [
            0.4210322070252617,
            0.3337245004759095,
            0.048060941847243854
          ],
          [
            0.44604229813981233,
            0.30875378387090424,
            0.04436773190485466
          ],
          [
            0.47592531455231174,
            0.33330516429801615,
            0.08073483830155673
          ],
          [
            0.45091522343776114,
            0.35827588090302154,
            0.08442804824394604
          ],
          [
            0.42616906241535424,
            0.3330729534084779,
            0.08725254502767443
          ],
          [
            0.45117915352990484,
            0.3081022368034726,
            0.08355933508528521
          ]
        ]
      },
      "diagnostics": {
        "n_points": 30884,
        "voxel": 0.006595496237277985,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.019786488711833954,
        "top_points": 22471,
        "top_frac": 0.727593575961663,
        "top_planarity": {
          "enabled": true,
          "planar": true,
          "inlier_ratio": 0.849850918962218,
          "rmse": 0.0039460115517553655,
          "cos_parallel": 0.9978979469161682,
          "plane_model": [
            -0.08106978293498349,
            -0.4666770122147829,
            0.8807044093026662,
            -0.7574585843309246
          ],
          "n_top": 22471,
          "dist_thr": 0.006595496237277985
        },
        "top_dense": true,
        "z_top_from": "median(top_plane_inliers)",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.1329622808270076,
        "height": 0.1329622808270076,
        "fitA": {
          "enabled": true,
          "ok": true,
          "points2d_n": 22471,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "chosen_method": "A_top_band",
        "footprint_model": "rect",
        "rect_center2": [
          -0.01063324511051178,
          -0.007720053195953369
        ],
        "rect_wh": [
          0.11951557546854019,
          0.11917702853679657
        ],
        "rect_angle_deg": 43.36566162109375,
        "circle_ok": false,
        "circle_center2": [
          -0.011055108424757409,
          -0.007023599635670121
        ],
        "circle_r": 0.06997136063116559,
        "circle_cov_deg": 311.432199571478,
        "circle_norm_rmse": 0.07035380145145814
      }
    }
  }
}