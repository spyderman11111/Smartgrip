{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.3432147260363539,
    "R_W_to_B": [
      [
        0.9862600479956752,
        0.08076442630983538,
        -0.1441118495142292
      ],
      [
        0.022702688474501548,
        -0.9303322651389606,
        -0.3660142953184218
      ],
      [
        -0.16363283797452888,
        0.357713550042844,
        -0.9193831140782102
      ]
    ],
    "t_W_to_B": [
      0.594181991859015,
      0.6713086058653482,
      0.3053441452266614
    ],
    "camera_center_rmse_all_m": 0.006129822486045938,
    "camera_center_rmse_kept_m": 0.0021175886536376003,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      3,
      0,
      5,
      1,
      4
    ],
    "per_pair_error_m": [
      0.0016160829415374747,
      0.002469671327183219,
      0.01424876955152735,
      0.0009185679667635772,
      0.0027659282157916926,
      0.0022838086582192903
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.07400537202690542,
      0.5118074552413028,
      -0.855906731875957,
      0.8377209185665649
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.05706974028381782,
        0.016043675012423646,
        0.8910162930219364
      ],
      "base_link": [
        0.5312378345809,
        0.5538103192236394,
        0.02936250328613277
      ]
    },
    "prism": {
      "method_used": "B_all_points",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.12388095259666443,
        0.12812604010105133,
        0.1581637605551469
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.9972578427413696,
          0.07400537202690542
        ],
        [
          -0.858260216356318,
          0.03798065004641287,
          0.5118074552413028
        ],
        [
          -0.5132147708493987,
          -0.06351586660734182,
          -0.855906731875957
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            -0.014680627240450134,
            0.037961584646396464,
            1.0001831548217246
          ],
          [
            0.010042732278098248,
            -0.07086733854852441,
            0.9372442961682261
          ],
          [
            -0.11116382126824353,
            -0.0868236264226737,
            0.9172228586201154
          ],
          [
            -0.1358871807867919,
            0.022005293574978893,
            0.9801617153617398
          ],
          [
            -0.002975659299392098,
            0.11891097644752094,
            0.8648097274237574
          ],
          [
            0.021747700219156285,
            0.01008205325260006,
            0.8018708687702589
          ],
          [
            -0.0994588533271855,
            -0.005874234621549235,
            0.7818494312221482
          ],
          [
            -0.12418221284573387,
            0.10295468537610336,
            0.8447882879637726
          ]
        ],
        "base_link": [
          [
            0.5407945242815495,
            0.5334284359468343,
            -0.004774349639975084
          ],
          [
            0.5492597066614818,
            0.5762770328934562,
            0.0003360455280543295
          ],
          [
            0.5087793984063931,
            0.5829426291416683,
            0.01150183770284513
          ],
          [
            0.5003142160323978,
            0.5400940334561185,
            0.006391442745562859
          ],
          [
            0.553696270755407,
            0.5246780093056105,
            0.04722316886942041
          ],
          [
            0.5621614531353393,
            0.5675266062522324,
            0.05233356403744971
          ],
          [
            0.5216811448802505,
            0.5741922025004444,
            0.06349935621224054
          ],
          [
            0.5132159625062552,
            0.5313436068148947,
            0.058388961254958266
          ]
        ]
      },
      "diagnostics": {
        "n_points": 27774,
        "voxel": 0.006318728923797607,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.01895618677139282,
        "top_points": 11808,
        "top_frac": 0.4251458198314971,
        "top_planarity": {
          "enabled": true,
          "planar": false,
          "inlier_ratio": 0.571900406504065,
          "rmse": 0.003628312148274821,
          "cos_parallel": 0.9906573822766531,
          "plane_model": [
            -0.13201758952858408,
            -0.3992106350293812,
            0.9073049239007251,
            -0.7412156485359793
          ],
          "n_top": 11808,
          "dist_thr": 0.006318728923797607
        },
        "top_dense": true,
        "z_top_from": "percentile",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.1581637605551469,
        "height": 0.1581637605551469,
        "fitA": {
          "enabled": false,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": true,
          "points2d_n": 27774,
          "circle_ok": false
        },
        "chosen_method": "B_all_points",
        "footprint_model": "rect",
        "rect_center2": [
          -0.013090591877698898,
          -0.013611622154712677
        ],
        "rect_wh": [
          0.12388095259666443,
          0.12812604010105133
        ],
        "rect_angle_deg": 78.84336853027344,
        "circle_ok": false,
        "circle_center2": [
          -0.01493220848798392,
          -0.013058692841767746
        ],
        "circle_r": 0.07336765185254311,
        "circle_cov_deg": 292.47393967091597,
        "circle_norm_rmse": 0.07431134371013497
      }
    }
  }
}