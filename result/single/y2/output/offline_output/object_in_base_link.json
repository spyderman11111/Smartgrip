{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.30692389397381287,
    "R_W_to_B": [
      [
        0.9986903829782382,
        -0.028698781268408604,
        0.04235444369233577
      ],
      [
        0.0014647091321329246,
        -0.8114770549690254,
        -0.5843824465929441
      ],
      [
        0.05114072324417643,
        0.5836791663341301,
        -0.8103722954380643
      ]
    ],
    "t_W_to_B": [
      0.49991274084287707,
      0.6296205002542375,
      0.30405171267043785
    ],
    "camera_center_rmse_all_m": 0.0038244556737513998,
    "camera_center_rmse_kept_m": 0.002132768256561049,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      4,
      1,
      0,
      5,
      2
    ],
    "per_pair_error_m": [
      0.0017498901544615577,
      0.0012638431233430601,
      0.0035047403861997732,
      0.008063204389196851,
      0.0012329290996515592,
      0.0020690016550118815
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.047290805157963786,
      0.5123843145494352,
      -0.857453143880887,
      0.8374593970980497
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.055183702868317634,
        0.026540268680803784,
        0.9194561369419343
      ],
      "base_link": [
        0.4947165028858971,
        0.4580710144104584,
        0.07925055099119763
      ]
    },
    "prism": {
      "method_used": "A_top_band",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.12290846556425095,
        0.12159045785665512,
        0.1201159549046874
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.9988811639757335,
          0.047290805157963786
        ],
        [
          -0.8584135679026598,
          0.02425820774201161,
          0.5123843145494352
        ],
        [
          -0.5129582306958564,
          -0.04059506878463724,
          -0.857453143880887
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            0.02821930849141164,
            -0.0026728542507507714,
            0.9766415672980246
          ],
          [
            -0.05470189452651465,
            -0.07846351831808294,
            0.9267783669378769
          ],
          [
            -0.14426709444780722,
            -0.0057921396079307855,
            0.965264509749123
          ],
          [
            -0.06134589142988094,
            0.06999852765724117,
            1.0151277120201891
          ],
          [
            0.03389968871117197,
            0.05887267696953836,
            0.8736477641347455
          ],
          [
            -0.04902151430675432,
            -0.016917987097793817,
            0.8237845637745977
          ],
          [
            -0.1385867142280469,
            0.055753391612358344,
            0.8622707065858439
          ],
          [
            -0.05566551121012061,
            0.1315440588775303,
            0.91213390885691
          ]
        ],
        "base_link": [
          [
            0.5212820621936818,
            0.45512754625732493,
            0.061102973094477625
          ],
          [
            0.4958842829433,
            0.4829103304256126,
            0.05862599728056453
          ],
          [
            0.46829077376987166,
            0.4578674984632892,
            0.06066649999129056
          ],
          [
            0.49368855301692693,
            0.430084713155798,
            0.06314347590279237
          ],
          [
            0.5211422320019226,
            0.45827453035762755,
            0.09783460199110464
          ],
          [
            0.4957444527515408,
            0.48605731452591516,
            0.09535762617719151
          ],
          [
            0.46815094357811243,
            0.4610144825635918,
            0.09739812888791757
          ],
          [
            0.4935487228251677,
            0.43323169725610067,
            0.09987510479941936
          ]
        ]
      },
      "diagnostics": {
        "n_points": 29124,
        "voxel": 0.0066807734966278075,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.02004232048988342,
        "top_points": 16766,
        "top_frac": 0.5756764180744404,
        "top_planarity": {
          "enabled": true,
          "planar": true,
          "inlier_ratio": 0.7798520815937016,
          "rmse": 0.0033499682746014558,
          "cos_parallel": 0.9995310470062644,
          "plane_model": [
            -0.03064662177595667,
            -0.49048170272699104,
            0.8709124432821896,
            -0.7287403353201498
          ],
          "n_top": 16766,
          "dist_thr": 0.0066807734966278075
        },
        "top_dense": true,
        "z_top_from": "median(top_plane_inliers)",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.1201159549046874,
        "height": 0.1201159549046874,
        "fitA": {
          "enabled": true,
          "ok": true,
          "points2d_n": 16766,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "chosen_method": "A_top_band",
        "footprint_model": "rect",
        "rect_center2": [
          -0.011880295351147652,
          -0.01271231472492218
        ],
        "rect_wh": [
          0.12290846556425095,
          0.12159045785665512
        ],
        "rect_angle_deg": 42.48630142211914,
        "circle_ok": false,
        "circle_center2": [
          -0.01073314092336907,
          -0.01436011642123828
        ],
        "circle_r": 0.07154504528066534,
        "circle_cov_deg": 294.5084367613434,
        "circle_norm_rmse": 0.0714332434818786
      }
    }
  }
}