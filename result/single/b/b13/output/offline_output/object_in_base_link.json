{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.28381129874269045,
    "R_W_to_B": [
      [
        0.9981203091712988,
        0.027647737034463462,
        0.05469415925548164
      ],
      [
        0.05079091769803317,
        -0.8725958821985617,
        -0.4857949248906436
      ],
      [
        0.03429476781059228,
        0.4876597471670053,
        -0.8723599256578844
      ]
    ],
    "t_W_to_B": [
      0.38152621208338927,
      0.6817220471267325,
      0.30379193332118637
    ],
    "camera_center_rmse_all_m": 0.005441173527306681,
    "camera_center_rmse_kept_m": 0.003774949035593322,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      1,
      0,
      4,
      3,
      5
    ],
    "per_pair_error_m": [
      0.0016343204733520957,
      0.0014192158534137769,
      0.010314408127417851,
      0.005161475651009428,
      0.0033023171740430377,
      0.005387011643248336
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.013771982413410025,
      0.5190380773729174,
      -0.8546401621369253,
      0.8782634887792456
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.05607865646302284,
        0.025212377492152233,
        0.9913427465618261
      ],
      "base_link": [
        0.38122664281883945,
        0.5379892835316399,
        0.06129339140870421
      ]
    },
    "prism": {
      "method_used": "A_top_band",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.08674699813127518,
        0.08203321695327759,
        0.08667206558666486
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.999905161752056,
          0.013771982413410027
        ],
        [
          -0.8547212223984288,
          0.007148861258932269,
          0.5190380773729175
        ],
        [
          -0.5190873067025771,
          -0.011771205643239484,
          -0.8546401621369254
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            -0.02630209741325991,
            0.046426071126819395,
            1.0554127870594554
          ],
          [
            -0.003675466757691105,
            -0.021130818431301476,
            1.0147489076283942
          ],
          [
            -0.08704886167577924,
            -0.04098741842655692,
            1.001346134249926
          ],
          [
            -0.10967549233134805,
            0.026569471131564066,
            1.0420100136809871
          ],
          [
            -0.02510845125026644,
            0.09141217341086133,
            0.9813393588737259
          ],
          [
            -0.002481820594697636,
            0.02385528385274046,
            0.9406754794426647
          ],
          [
            -0.08585521551278577,
            0.003998683857485016,
            0.9272727060641964
          ],
          [
            -0.10848184616835457,
            0.071555573415606,
            0.9679365854952576
          ]
        ],
        "base_link": [
          [
            0.3908226876622472,
            0.5243312895137314,
            0.04865644042446393
          ],
          [
            0.3960709908424452,
            0.5469945858911456,
            0.049594362465239794
          ],
          [
            0.37208929875588803,
            0.5525581885715584,
            0.049352982838596904
          ],
          [
            0.36684099557569005,
            0.5298948921941442,
            0.04841506079782104
          ],
          [
            0.3903639868817908,
            0.5234203784917214,
            0.0732337999788116
          ],
          [
            0.3956122900619888,
            0.5460836748691356,
            0.07417172201958747
          ],
          [
            0.37163059797543163,
            0.5516472775495482,
            0.0739303423929446
          ],
          [
            0.36638229479523365,
            0.5289839811721341,
            0.07299242035216874
          ]
        ]
      },
      "diagnostics": {
        "n_points": 10979,
        "voxel": 0.006636218726634979,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.019908656179904935,
        "top_points": 6915,
        "top_frac": 0.6298387831314327,
        "top_planarity": {
          "enabled": true,
          "planar": true,
          "inlier_ratio": 0.6600144613159797,
          "rmse": 0.004139966025102706,
          "cos_parallel": 0.9888543194568857,
          "plane_model": [
            -0.16224753667467987,
            -0.5049203085351195,
            0.847780171313176,
            -0.7889645066464064
          ],
          "n_top": 6915,
          "dist_thr": 0.006636218726634979
        },
        "top_dense": true,
        "z_top_from": "median(top_plane_inliers)",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.08667206558666486,
        "height": 0.08667206558666486,
        "fitA": {
          "enabled": true,
          "ok": true,
          "points2d_n": 6915,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "chosen_method": "A_top_band",
        "footprint_model": "rect",
        "rect_center2": [
          -0.007819298654794693,
          -0.009399019181728363
        ],
        "rect_wh": [
          0.08674699813127518,
          0.08203321695327759
        ],
        "rect_angle_deg": 73.98738861083984,
        "circle_ok": false,
        "circle_center2": [
          -0.008070510211456636,
          -0.008821318683648502
        ],
        "circle_r": 0.04701110040452907,
        "circle_cov_deg": 315.34168229594354,
        "circle_norm_rmse": 0.07571278139044853
      }
    }
  }
}