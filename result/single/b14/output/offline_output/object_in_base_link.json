{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.2778905128585757,
    "R_W_to_B": [
      [
        0.9988062975158201,
        0.04446154175917649,
        0.020227489887207125
      ],
      [
        0.048689382887486775,
        -0.8730326632185011,
        -0.485225012697869
      ],
      [
        -0.003914592798209403,
        0.48563066239479596,
        -0.8741553269901269
      ]
    ],
    "t_W_to_B": [
      0.35123497309660007,
      0.6281312167304212,
      0.30412917329182665
    ],
    "camera_center_rmse_all_m": 0.002559774880960093,
    "camera_center_rmse_kept_m": 0.0017442122034054158,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      0,
      4,
      5,
      2,
      3
    ],
    "per_pair_error_m": [
      0.0005810801341839909,
      0.0049095115433842994,
      0.0022467451595499246,
      0.0025462443587698567,
      0.001027754733019338,
      0.001512026121608554
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.04232799534389952,
      0.5319765032077906,
      -0.8457005030416964,
      0.8794422525087275
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.058520163834492954,
        0.039064705103688944,
        1.0129228835418331
      ],
      "base_link": [
        0.3411685160505902,
        0.4812800882487636,
        0.06340600708512631
      ]
    },
    "prism": {
      "method_used": "A_top_band",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.08021710813045502,
        0.0784808024764061,
        0.08223464870509406
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.9991037687888934,
          0.04232799534389952
        ],
        [
          -0.8464591261277661,
          0.022537697939117803,
          0.5319765032077906
        ],
        [
          -0.532453704835469,
          -0.035828917949537374,
          -0.8457005030416964
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            -0.004240755059913756,
            0.017753285859580928,
            1.0508532010847205
          ],
          [
            -0.05933180753463747,
            -0.030319307376435456,
            1.0178564324153145
          ],
          [
            -0.11628040043656859,
            0.01662922348714002,
            1.0445384497763006
          ],
          [
            -0.06118934796184487,
            0.06470181672315639,
            1.0775352184457065
          ],
          [
            -0.000759927232417322,
            0.06150018672023793,
            0.9813073173073652
          ],
          [
            -0.055850979707141035,
            0.013427593484221546,
            0.9483105486379593
          ],
          [
            -0.11279957260907215,
            0.060376124347797024,
            0.9749925659989453
          ],
          [
            -0.05770852013434844,
            0.10844871758381339,
            1.0079893346683513
          ]
        ],
        "base_link": [
          [
            0.35618413868736365,
            0.482070313607855,
            0.05125692576989527
          ],
          [
            0.3401136987701899,
            0.4974369509732811,
            0.05284491300018146
          ],
          [
            0.32503716613003547,
            0.4816785650321271,
            0.05276108707199467
          ],
          [
            0.34110760604720924,
            0.466311927666701,
            0.05117309984170848
          ],
          [
            0.3572998659711449,
            0.4808816114654002,
            0.07405092709825803
          ],
          [
            0.34122942605397116,
            0.4962482488308263,
            0.07563891432854422
          ],
          [
            0.3261528934138167,
            0.48048986288967227,
            0.07555508840035746
          ],
          [
            0.3422233333309905,
            0.4651232255242461,
            0.07396710117007127
          ]
        ]
      },
      "diagnostics": {
        "n_points": 10397,
        "voxel": 0.006864112317562104,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.02059233695268631,
        "top_points": 6799,
        "top_frac": 0.6539386361450419,
        "top_planarity": {
          "enabled": true,
          "planar": true,
          "inlier_ratio": 0.776584791881159,
          "rmse": 0.0032086804746314273,
          "cos_parallel": 0.9852768840348948,
          "plane_model": [
            -0.016186955590602018,
            -0.38162779224833987,
            0.9241743399664188,
            -0.8801433911132663
          ],
          "n_top": 6799,
          "dist_thr": 0.006864112317562104
        },
        "top_dense": true,
        "z_top_from": "median(top_plane_inliers)",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.08223464870509406,
        "height": 0.08223464870509406,
        "fitA": {
          "enabled": true,
          "ok": true,
          "points2d_n": 6799,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "chosen_method": "A_top_band",
        "footprint_model": "rect",
        "rect_center2": [
          -0.008974265307188034,
          -0.007666148245334625
        ],
        "rect_wh": [
          0.08021710813045502,
          0.0784808024764061
        ],
        "rect_angle_deg": 43.42388916015625,
        "circle_ok": false,
        "circle_center2": [
          -0.007175396265517323,
          -0.007766375363431376
        ],
        "circle_r": 0.047074682608351306,
        "circle_cov_deg": 294.0159967121153,
        "circle_norm_rmse": 0.07471237754998068
      }
    }
  }
}