{
  "note": "Object center and approximating prism corners in VGGT world and base_link. Alignment is estimated from paired camera centers. NO Open3D OBB used.",
  "inputs": {
    "ply_path": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/points.ply",
    "vggt_cameras_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/offline_output/cameras.json",
    "robot_shots_json": "/home/MA_SmartGrip/Smartgrip/ros2_ws/src/gripanything/gripanything/output/ur5camerajointstates.json",
    "align_method": "sim3",
    "vggt_pose_is_world_T_cam": true,
    "aim_gate": {
      "enable": true,
      "pose_id_used": 1,
      "aim_axis_cam": [
        0.0,
        0.0,
        1.0
      ],
      "aim_invert_axis": false,
      "perp_radius_m": 0.12,
      "min_depth_m": 0.02,
      "min_points_abs": 300,
      "min_size_ratio": 0.0,
      "pick_mode": "min_perp_then_depth"
    }
  },
  "alignment_W_to_B": {
    "model": "p_B = s * R * p_W + t",
    "scale_s": 0.29566852263614224,
    "R_W_to_B": [
      [
        0.9996201503229666,
        -0.013741557150485998,
        0.023889844607508343
      ],
      [
        0.0033794442602220797,
        -0.799171737814755,
        -0.6010932646724939
      ],
      [
        0.02735204608037616,
        0.6009456739882771,
        -0.7988217338618124
      ]
    ],
    "t_W_to_B": [
      0.4893223581867475,
      0.5539720597701592,
      0.3035996402226536
    ],
    "camera_center_rmse_all_m": 0.0028960365168167086,
    "camera_center_rmse_kept_m": 0.0013713076035832947,
    "pairs_used_total": 6,
    "pairs_used_kept": 5,
    "pair_indices_total": [
      {
        "pose_id": 1,
        "image_k": 1
      },
      {
        "pose_id": 2,
        "image_k": 2
      },
      {
        "pose_id": 3,
        "image_k": 3
      },
      {
        "pose_id": 4,
        "image_k": 4
      },
      {
        "pose_id": 5,
        "image_k": 5
      },
      {
        "pose_id": 6,
        "image_k": 6
      }
    ],
    "kept_indices": [
      0,
      5,
      1,
      3,
      4
    ],
    "per_pair_error_m": [
      0.0007785085526110483,
      0.001335902900449696,
      0.006396854095740213,
      0.001384091963561677,
      0.001969002053624974,
      0.001104097342417302
    ]
  },
  "support_plane": {
    "available": true,
    "plane_axbyczd": [
      0.042991521167441475,
      0.5267612458640928,
      -0.8489253906930916,
      0.828123159080278
    ]
  },
  "object": {
    "center": {
      "vggt_world": [
        -0.051056185228703976,
        0.005816351784590688,
        0.9116879895149341
      ],
      "base_link": [
        0.480648439282921,
        0.4055175371249607,
        0.0888918529566535
      ]
    },
    "prism": {
      "method_used": "A_top_band",
      "footprint_model": "rect",
      "extent_xyz_in_prism_axes": [
        0.11647855490446091,
        0.11118510365486145,
        0.11007384407111909
      ],
      "R_prism_axes_in_vggt_world": [
        [
          0.0,
          -0.9990754371446198,
          0.042991521167441475
        ],
        [
          -0.8497110019215776,
          0.02266722452553957,
          0.5267612458640928
        ],
        [
          -0.5272487204455094,
          -0.03653036852531944,
          -0.8489253906930916
        ]
      ],
      "corners_8": {
        "index_order_note": "Order: bottom 4 corners (CCW in plane) then top 4 corners (same order).",
        "vggt_world": [
          [
            -0.013690773570739815,
            0.03540839423291491,
            0.9967735104115978
          ],
          [
            0.018289910509607425,
            -0.05579234455558538,
            0.9418027002049826
          ],
          [
            -0.09315383888403332,
            -0.08175832590368619,
            0.9200469497014356
          ],
          [
            -0.12513452296438055,
            0.009442411302104102,
            0.9750177589259735
          ],
          [
            -0.008958531573374645,
            0.09339102947286748,
            0.9033290293284326
          ],
          [
            0.023022152506972593,
            0.0021902906843671993,
            0.8483582191218173
          ],
          [
            -0.08842159688666815,
            -0.023775690663733612,
            0.8266024686182705
          ],
          [
            -0.12040228096701537,
            0.06742504654205668,
            0.8815732778428083
          ]
        ],
        "base_link": [
          [
            0.4921727874386887,
            0.3834408013802656,
            0.07435592119579204
          ],
          [
            0.501607136036893,
            0.41479222417166944,
            0.07139330060898647
          ],
          [
            0.46862107067513753,
            0.4246828967214379,
            0.07101679856168472
          ],
          [
            0.45918672207642686,
            0.39333147447855143,
            0.07397941909922659
          ],
          [
            0.4926758078907045,
            0.3863521775284835,
            0.10676690735162225
          ],
          [
            0.5021101564889088,
            0.4177036003198874,
            0.10380428676481668
          ],
          [
            0.4691240911271533,
            0.4275942728696558,
            0.1034277847175149
          ],
          [
            0.45968974252844264,
            0.39624285062676945,
            0.1063904052550568
          ]
        ]
      },
      "diagnostics": {
        "n_points": 29705,
        "voxel": 0.006449873149394989,
        "support_plane_flipped": true,
        "support_plane_used": true,
        "top_quantile": 98.0,
        "top_band_m": 0.019349619448184967,
        "top_points": 19237,
        "top_frac": 0.6476014139033832,
        "top_planarity": {
          "enabled": true,
          "planar": true,
          "inlier_ratio": 0.8426989655351667,
          "rmse": 0.002479502787043882,
          "cos_parallel": 0.9994760489985606,
          "plane_model": [
            -0.050913806095542,
            -0.49964531317731115,
            0.8647325282240816,
            -0.732567743348441
          ],
          "n_top": 19237,
          "dist_thr": 0.006449873149394989
        },
        "top_dense": true,
        "z_top_from": "median(top_plane_inliers)",
        "z_bottom_from": "support_plane",
        "z_bottom": 0.0,
        "z_top": 0.11007384407111909,
        "height": 0.11007384407111909,
        "fitA": {
          "enabled": true,
          "ok": true,
          "points2d_n": 19237,
          "circle_ok": false
        },
        "fitB": {
          "enabled": true,
          "ok": false,
          "points2d_n": 0,
          "circle_ok": false
        },
        "chosen_method": "A_top_band",
        "footprint_model": "rect",
        "rect_center2": [
          -0.01293431967496872,
          -0.011187195777893066
        ],
        "rect_wh": [
          0.11647855490446091,
          0.11118510365486145
        ],
        "rect_angle_deg": 73.2676773071289,
        "circle_ok": false,
        "circle_center2": [
          -0.011538783024488429,
          -0.011215811879533251
        ],
        "circle_r": 0.06698553743809375,
        "circle_cov_deg": 310.861703458395,
        "circle_norm_rmse": 0.07742885095975864
      }
    }
  }
}